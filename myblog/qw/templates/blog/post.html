{% extends 'layout.html' %}
{% block content %}
    <div class="container">

    <div class="page-header">
        <h1>{{ title }}</h1>
    </div>
    <div class="col-md-6">
        <form action="" class="form-group"  method="post">
         {{ form.csrf_token }}
         {{ form.title.label }} {{ form.title(class="form-control") }}
         {{ form.content.label }} {{ form.content(class="form-control", rows=10, placeholder='support markdown……') }}
         <br>
         {{ form.submit(class="btn btn-success") }}
         <button class="btn btn-info" type="button" onclick="pre()">
            Preview
         </button>
        </form>
    </div>
    <div class="col-md-6">
        <div class="form-group">
            <label for="preview">Preview</label>
            <div id="preview" rows="13">

            </div>
        </div>
    </div>
    </div>

{% endblock %}
{% block scripts %}
    {{ super() }}

    <script>
    function pre(){
        let doc = $('#content').val();
        document.getElementById('preview').innerHTML = marked(doc);
    }

    </script>
{% endblock %}